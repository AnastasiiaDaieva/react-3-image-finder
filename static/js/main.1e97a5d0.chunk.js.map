{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Button/Button.module.css","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","services/api.jsx","components/Button/Button.jsx","components/Loader/AppLoader.jsx","components/ImageGallery/ImageGallery.jsx","components/Searchbar/Searchbar.jsx","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","modalRoot","document","getElementById","Modal","handleEscClose","e","code","props","onClose","handleOverlayClick","target","currentTarget","window","addEventListener","this","removeEventListener","modalSource","modalDescription","createPortal","className","s","Overlay","onClick","src","alt","Component","ImageGalleryItem","state","showModal","toggleModal","setState","source","description","id","dataOriginal","ImageGalleryItem__image","api","pageNumber","fetchImages","searchQuery","url","console","log","fetch","then","response","ok","json","data","catch","error","resetPageNumber","Button","children","type","AppLoader","loader","color","height","width","timeout","ImageGallery","hits","totalHits","loading","prevProps","prevState","prevQuery","newQuery","finally","map","webformatURL","tags","largeImageURL","length","Searchbar","handleSubmit","preventDefault","trim","onSubmit","toast","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleQueryChange","value","toLowerCase","SearchForm","SearchForm__button","SearchForm__label","SearchForm__input","autoComplete","autoFocus","placeholder","name","onChange","App","handleFormSubmit","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.1e97a5d0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Ada1\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3939_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__lezk5\",\"Modal\":\"Modal_Modal__22BBD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__GhtAh\"};","import React, { Component } from 'react';\r\nimport s from 'components/Modal/Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nconst modalRoot = document.getElementById('modal-root');\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleEscClose);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleEscClose);\r\n  }\r\n\r\n  handleEscClose = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleOverlayClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { modalSource, modalDescription } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>\r\n          <img src={modalSource} alt={modalDescription} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport { Modal };\r\n","import React, { Component } from 'react';\r\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\nimport { Modal } from 'components/Modal/Modal';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = { showModal: false };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  render() {\r\n    const { source, description, id, dataOriginal } = this.props;\r\n    const { showModal } = this.state;\r\n    return (\r\n      <>\r\n        <li key={id} className={s.ImageGalleryItem} onClick={this.toggleModal}>\r\n          <img\r\n            src={source}\r\n            alt={description}\r\n            className={s.ImageGalleryItem__image}\r\n          />\r\n        </li>\r\n        {showModal && (\r\n          <Modal\r\n            modalSource={dataOriginal}\r\n            modalDescription={description}\r\n            onClose={this.toggleModal}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport { ImageGalleryItem };\r\n","const API_KEY = '23531219-4793e7ad626a6d166b9f03b8c';\r\n\r\nconst api = {\r\n  pageNumber: 1,\r\n  async fetchImages(searchQuery) {\r\n    const url = `https://pixabay.com/api/?q=${searchQuery}&page=${this.pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n    console.log(url);\r\n\r\n    return await fetch(url)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          // console.log(response);\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        // console.log(data.hits);\r\n\r\n        this.pageNumber += 1;\r\n\r\n        return data;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  resetPageNumber() {\r\n    this.pageNumber = 1;\r\n  },\r\n};\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport s from 'components/Button/Button.module.css';\r\n\r\nconst Button = ({ children, onClick }) => (\r\n  <button type=\"button\" className={s.Button} onClick={onClick}>\r\n    {children}\r\n  </button>\r\n);\r\nexport { Button };\r\n","import React from 'react';\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nimport Loader from 'react-loader-spinner';\r\nexport default function AppLoader() {\r\n  return (\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"TailSpin\"\r\n      color=\"#3f51b5\"\r\n      height={80}\r\n      width={80}\r\n      timeout={3000}\r\n    />\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport api from 'services/api';\r\nimport { Button } from 'components/Button/Button';\r\nimport AppLoader from 'components/Loader/AppLoader';\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    hits: [],\r\n    totalHits: '',\r\n    loading: false,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.searchQuery;\r\n    const newQuery = this.props.searchQuery;\r\n    if (prevQuery !== newQuery) {\r\n      this.setState({ loading: true, hits: [] });\r\n      api\r\n        .fetchImages(newQuery)\r\n        .then(({ totalHits, hits }) => this.setState({ totalHits, hits }))\r\n        .catch(error => console.log(error))\r\n        .finally(() => this.setState({ loading: false }));\r\n    } else {\r\n      api.resetPageNumber();\r\n    }\r\n  }\r\n  render() {\r\n    const { hits, loading, totalHits } = this.state;\r\n    const { onClick } = this.props;\r\n    return (\r\n      <>\r\n        {loading && <AppLoader />}\r\n        {totalHits === 0 && (\r\n          <div>Nothing was found on {this.props.searchQuery}</div>\r\n        )}\r\n        <ul className={s.ImageGallery}>\r\n          {hits.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              source={webformatURL}\r\n              description={tags}\r\n              dataOriginal={largeImageURL}\r\n            />\r\n          ))}\r\n        </ul>\r\n\r\n        {hits.length > 0 && <Button onClick={onClick}>Load more</Button>}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport { ImageGallery };\r\n","import React, { Component } from 'react';\r\nimport s from 'components/Searchbar/Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.searchQuery.trim() === '') {\r\n      toast.error('Please type the query', {\r\n        position: 'top-right',\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  handleQueryChange = e => {\r\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <>\r\n        <header className={s.Searchbar}>\r\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n            <button type=\"submit\" className={s.SearchForm__button}>\r\n              <span className={s.SearchForm__label}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.SearchForm__input}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              name=\"searchQuery\"\r\n              value={searchQuery}\r\n              onChange={this.handleQueryChange}\r\n            />\r\n          </form>\r\n        </header>\r\n        <ImageGallery\r\n          searchQuery={searchQuery}\r\n          onClick={this.handleQueryChange}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Searchbar };\r\n","import './App.css';\nimport React, { Component } from 'react';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\nimport { Button } from 'components/Button/Button';\nimport api from 'services/api';\nimport { ToastContainer } from 'react-toastify';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n    console.log(searchQuery);\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {/* <ImageGallery searchQuery={searchQuery} /> */}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__31jV6\",\"SearchForm\":\"Searchbar_SearchForm__1bPzr\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2zJNc\",\"SearchForm__label\":\"Searchbar_SearchForm__label__2oue-\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1q85Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__HUoY6\",\"loader\":\"ImageGallery_loader__1T7dh\"};"],"sourceRoot":""}