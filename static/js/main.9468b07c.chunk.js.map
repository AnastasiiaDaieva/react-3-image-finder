{"version":3,"sources":["components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.jsx","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","services/api.jsx","components/Button/Button.jsx","components/ImageGallery/ImageGallery.jsx","App.js","index.js","components/ImageGallery/ImageGallery.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleSubmit","e","preventDefault","trim","props","onSubmit","setState","toast","error","position","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleQueryChange","currentTarget","value","toLowerCase","this","className","s","SearchForm","type","SearchForm__button","SearchForm__label","SearchForm__input","autoComplete","autoFocus","placeholder","name","onChange","Component","modalRoot","document","getElementById","Modal","window","addEventListener","code","onClose","modalSource","modalDescription","createPortal","Overlay","onClick","handleOverlayClick","src","alt","ImageGalleryItem","showModal","toggleModal","source","description","id","dataOriginal","ImageGalleryItem__image","pageNumber","fetchImages","url","console","log","fetch","then","response","ok","json","data","hits","catch","resetPageNumber","Button","children","ImageGallery","images","loading","prevProps","prevState","prevQuery","newQuery","api","finally","loader","color","height","width","timeout","length","map","webformatURL","tags","largeImageURL","App","handleFormSubmit","ReactDOM","render","StrictMode"],"mappings":"uHACAA,EAAOC,QAAU,CAAC,OAAS,yB,+DCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,mBAAqB,sCAAsC,kBAAoB,qCAAqC,kBAAoB,uC,wKCIxOC,E,4MACJC,MAAQ,CACNC,YAAa,I,EAEfC,aAAe,SAAAC,GACbA,EAAEC,iBACoC,KAAlC,EAAKJ,MAAMC,YAAYI,QAW3B,EAAKC,MAAMC,SAAS,EAAKP,MAAMC,aAC/B,EAAKO,SAAS,CAAEP,YAAa,MAX3BQ,IAAMC,MAAM,wBAAyB,CACnCC,SAAU,YACVC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,K,EAQhBC,kBAAoB,SAAAf,GAClB,EAAKK,SAAS,CAAEP,YAAaE,EAAEgB,cAAcC,MAAMC,iB,4CAErD,WACE,IAAQpB,EAAgBqB,KAAKtB,MAArBC,YACR,OACE,wBAAQsB,UAAWC,IAAEzB,UAArB,SACE,uBAAMwB,UAAWC,IAAEC,WAAYlB,SAAUe,KAAKpB,aAA9C,UACE,wBAAQwB,KAAK,SAASH,UAAWC,IAAEG,mBAAnC,SACE,sBAAMJ,UAAWC,IAAEI,kBAAnB,sBAGF,uBACEL,UAAWC,IAAEK,kBACbH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,KAAK,cACLb,MAAOnB,EACPiC,SAAUZ,KAAKJ,6B,GAzCHiB,a,mDCFlBC,EAAYC,SAASC,eAAe,cACpCC,E,uKACJ,WAAqB,IAAD,OAClBC,OAAOC,iBAAiB,WAAW,SAAAtC,GAClB,WAAXA,EAAEuC,MACJ,EAAKpC,MAAMqC,e,oBAMjB,WACE,MAA0CrB,KAAKhB,MAAvCsC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,iBACrB,OAAOC,uBACL,qBAAKvB,UAAWC,IAAEuB,QAASC,QAAS1B,KAAK2B,mBAAzC,SACE,qBAAK1B,UAAWC,IAAEe,MAAlB,SACE,qBAAKW,IAAKN,EAAaO,IAAKN,QAGhCT,O,GAlBcD,aCCdiB,G,mNACJpD,MAAQ,CAAEqD,WAAW,G,EAErBC,YAAc,WACZ,EAAK9C,UAAS,kBAAoB,CAAE6C,WAAtB,EAAGA,e,4CAGnB,WACE,MAAkD/B,KAAKhB,MAA/CiD,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,YAAaC,EAA7B,EAA6BA,GAAIC,EAAjC,EAAiCA,aACzBL,EAAc/B,KAAKtB,MAAnBqD,UACR,OACE,qCACE,oBAAa9B,UAAWC,IAAE4B,iBAAkBJ,QAAS1B,KAAKgC,YAA1D,SACE,qBACEJ,IAAKK,EACLJ,IAAKK,EACLjC,UAAWC,IAAEmC,2BAJRF,GAORJ,GACC,cAAC,EAAD,CACET,YAAac,EACbb,iBAAkBW,EAClBb,QAASrB,KAAKgC,qB,GAvBKnB,c,0BCHhB,GACbyB,WAAY,EACNC,YAFO,SAEK5D,GAAc,IAAD,+HACvB6D,EADuB,qCACa7D,EADb,iBACiC,EAAK2D,WADtC,gBAJjB,qCAIiB,wDAE7BG,QAAQC,IAAIF,GAFiB,SAIhBG,MAAMH,GAChBI,MAAK,SAAAC,GACJ,GAAIA,EAASC,GAEX,OAAOD,EAASE,UAGnBH,MAAK,SAAAI,GAMJ,OAHA,EAAKV,YAAc,EACnBG,QAAQC,IAAI,EAAKJ,YAEVU,EAAKC,QAEbC,OAAM,SAAA9D,GAAK,OAAIqD,QAAQC,IAAItD,MAnBD,sFAsB/B+D,gBAxBa,WAyBXnD,KAAKsC,WAAa,I,kBCxBhBc,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAU3B,EAAb,EAAaA,QAAb,OACb,wBAAQtB,KAAK,SAASH,UAAWC,IAAEkD,OAAQ1B,QAASA,EAApD,SACG2B,K,kBCECC,E,4MACJ5E,MAAQ,CACN6E,OAAQ,GACRC,SAAS,G,wDAEX,SAAmBC,EAAWC,GAAY,IAAD,OACjCC,EAAYF,EAAU9E,YACtBiF,EAAW5D,KAAKhB,MAAML,YACxBgF,IAAcC,GAChB5D,KAAKd,SAAS,CAAEsE,SAAS,IACzBK,EACGtB,YAAYqB,GACZhB,MAAK,SAAAW,GAAM,OAAI,EAAKrE,SAAS,CAAEqE,cAC/BO,SAAQ,kBAAM,EAAK5E,SAAS,CAAEsE,SAAS,QAE1CK,EAAIV,oB,oBAGR,WAAU,IAAD,OACP,EAA4BnD,KAAKtB,MAAzB6E,EAAR,EAAQA,OAAQC,EAAhB,EAAgBA,QAChB,OACE,qCACGA,GACC,cAAC,IAAD,CACEvD,UAAWC,IAAE6D,OACb3D,KAAK,WACL4D,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,MAIb,qBAAIlE,UAAWC,IAAEoD,aAAjB,UACqB,IAAlBC,EAAOa,QAAgB,4DACvBb,EAAOc,KAAI,gBAAGlC,EAAH,EAAGA,GAAImC,EAAP,EAAOA,aAAcC,EAArB,EAAqBA,KAAMC,EAA3B,EAA2BA,cAA3B,OACV,cAAC,EAAD,CAEEvC,OAAQqC,EACRpC,YAAaqC,EACbnC,aAAcoC,GAHTrC,SAQVoB,EAAOa,OAAS,GACf,cAAC,EAAD,CAAQ1C,QAAS,kBAAMmC,EAAItB,YAAY,EAAKvD,MAAML,cAAlD,8B,GA9CiBkC,aCDrB4D,E,4MACJ/F,MAAQ,CACNuE,KAAM,GACNtE,YAAa,I,EAEf+F,iBAAmB,SAAA/F,GACjB,EAAKO,SAAS,CAAEP,gBAChB8D,QAAQC,IAAI/D,I,4CAGd,WACE,IAAQA,EAAgBqB,KAAKtB,MAArBC,YACR,OACE,sBAAKsB,UAAU,MAAf,UACE,cAAC,EAAD,CAAWhB,SAAUe,KAAK0E,mBAC1B,cAAC,EAAD,CAAc/F,YAAaA,IAC3B,cAAC,IAAD,W,GAhBUkC,aAsBH4D,ICvBfE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEF9D,SAASC,eAAe,U,mBCR1BzC,EAAOC,QAAU,CAAC,aAAe,mCAAmC,OAAS,+B,mBCA7ED,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,wBAA0B,oD,mBCA1GD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.9468b07c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__GhtAh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__31jV6\",\"SearchForm\":\"Searchbar_SearchForm__1bPzr\",\"SearchForm__button\":\"Searchbar_SearchForm__button__2zJNc\",\"SearchForm__label\":\"Searchbar_SearchForm__label__2oue-\",\"SearchForm__input\":\"Searchbar_SearchForm__input__1q85Q\"};","import React, { Component } from 'react';\r\nimport s from 'components/Searchbar/Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    searchQuery: '',\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.searchQuery.trim() === '') {\r\n      toast.error('Please type the query', {\r\n        position: 'top-right',\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.searchQuery);\r\n    this.setState({ searchQuery: '' });\r\n  };\r\n\r\n  handleQueryChange = e => {\r\n    this.setState({ searchQuery: e.currentTarget.value.toLowerCase() });\r\n  };\r\n  render() {\r\n    const { searchQuery } = this.state;\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchForm__button}>\r\n            <span className={s.SearchForm__label}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s.SearchForm__input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            name=\"searchQuery\"\r\n            value={searchQuery}\r\n            onChange={this.handleQueryChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport { Searchbar };\r\n","import React, { Component } from 'react';\r\nimport s from 'components/Modal/Modal.module.css';\r\nimport { createPortal } from 'react-dom';\r\nconst modalRoot = document.getElementById('modal-root');\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', e => {\r\n      if (e.code === 'Escape') {\r\n        this.props.onClose();\r\n      }\r\n    });\r\n\r\n    //   handleOverlayClick = e => {};\r\n  }\r\n  render() {\r\n    const { modalSource, modalDescription } = this.props;\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleOverlayClick}>\r\n        <div className={s.Modal}>\r\n          <img src={modalSource} alt={modalDescription} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n\r\nexport { Modal };\r\n","import React, { Component } from 'react';\r\nimport s from 'components/ImageGalleryItem/ImageGalleryItem.module.css';\r\nimport { Modal } from 'components/Modal/Modal';\r\nimport { render } from '@testing-library/react';\r\n\r\nclass ImageGalleryItem extends Component {\r\n  state = { showModal: false };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\r\n  };\r\n\r\n  render() {\r\n    const { source, description, id, dataOriginal } = this.props;\r\n    const { showModal } = this.state;\r\n    return (\r\n      <>\r\n        <li key={id} className={s.ImageGalleryItem} onClick={this.toggleModal}>\r\n          <img\r\n            src={source}\r\n            alt={description}\r\n            className={s.ImageGalleryItem__image}\r\n          />\r\n        </li>\r\n        {showModal && (\r\n          <Modal\r\n            modalSource={dataOriginal}\r\n            modalDescription={description}\r\n            onClose={this.toggleModal}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport { ImageGalleryItem };\r\n","const API_KEY = '23531219-4793e7ad626a6d166b9f03b8c';\r\n\r\nexport default {\r\n  pageNumber: 1,\r\n  async fetchImages(searchQuery) {\r\n    const url = `https://pixabay.com/api/?q=${searchQuery}&page=${this.pageNumber}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`;\r\n    console.log(url);\r\n\r\n    return await fetch(url)\r\n      .then(response => {\r\n        if (response.ok) {\r\n          // console.log(response);\r\n          return response.json();\r\n        }\r\n      })\r\n      .then(data => {\r\n        // console.log(data.hits);\r\n\r\n        this.pageNumber += 1;\r\n        console.log(this.pageNumber);\r\n\r\n        return data.hits;\r\n      })\r\n      .catch(error => console.log(error));\r\n  },\r\n\r\n  resetPageNumber() {\r\n    this.pageNumber = 1;\r\n  },\r\n};\r\n","import React from 'react';\r\nimport s from 'components/Button/Button.module.css';\r\n\r\nconst Button = ({ children, onClick }) => (\r\n  <button type=\"button\" className={s.Button} onClick={onClick}>\r\n    {children}\r\n  </button>\r\n);\r\nexport { Button };\r\n","import React, { Component } from 'react';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\nimport { ImageGalleryItem } from 'components/ImageGalleryItem/ImageGalleryItem';\r\nimport api from 'services/api';\r\nimport { Button } from 'components/Button/Button';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nclass ImageGallery extends Component {\r\n  state = {\r\n    images: [],\r\n    loading: false,\r\n  };\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const prevQuery = prevProps.searchQuery;\r\n    const newQuery = this.props.searchQuery;\r\n    if (prevQuery !== newQuery) {\r\n      this.setState({ loading: true });\r\n      api\r\n        .fetchImages(newQuery)\r\n        .then(images => this.setState({ images }))\r\n        .finally(() => this.setState({ loading: false }));\r\n    } else {\r\n      api.resetPageNumber();\r\n    }\r\n  }\r\n  render() {\r\n    const { images, loading } = this.state;\r\n    return (\r\n      <>\r\n        {loading && (\r\n          <Loader\r\n            className={s.loader}\r\n            type=\"TailSpin\"\r\n            color=\"#3f51b5\"\r\n            height={80}\r\n            width={80}\r\n            timeout={3000}\r\n          />\r\n        )}\r\n\r\n        <ul className={s.ImageGallery}>\r\n          {images.length === 0 && <div>Let's search some images!</div>}\r\n          {images.map(({ id, webformatURL, tags, largeImageURL }) => (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              source={webformatURL}\r\n              description={tags}\r\n              dataOriginal={largeImageURL}\r\n            />\r\n          ))}\r\n        </ul>\r\n\r\n        {images.length > 0 && (\r\n          <Button onClick={() => api.fetchImages(this.props.searchQuery)}>\r\n            Load more\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport { ImageGallery };\r\n","import './App.css';\nimport React, { Component } from 'react';\nimport { Searchbar } from 'components/Searchbar/Searchbar';\nimport { ImageGallery } from 'components/ImageGallery/ImageGallery';\nimport { ToastContainer } from 'react-toastify';\n\nclass App extends Component {\n  state = {\n    hits: [],\n    searchQuery: '',\n  };\n  handleFormSubmit = searchQuery => {\n    this.setState({ searchQuery });\n    console.log(searchQuery);\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <ImageGallery searchQuery={searchQuery} />\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__HUoY6\",\"loader\":\"ImageGallery_loader__1T7dh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1Ada1\",\"ImageGalleryItem__image\":\"ImageGalleryItem_ImageGalleryItem__image__3939_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__lezk5\",\"Modal\":\"Modal_Modal__22BBD\"};"],"sourceRoot":""}